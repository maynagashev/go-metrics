Build version: N/A
Build date: N/A
Build commit: N/A
2025-03-06T12:02:32.187+0700	DEBUG	pgstorage/pgstorage.go:35	Connecting to database: postgres://metrics:password@localhost:5432/metrics?sslmode=disable

2025/03/06 12:02:32 INFO Запуск миграций... path=migrations/server
2025/03/06 12:02:32 INFO Нет новых миграций для применения.
2025-03-06T12:02:32.223+0700	INFO	logger/logger.go:18	logger middleware enabled
2025-03-06T12:02:32.223+0700	INFO	decompresspool/decompresspool.go:42	decompress middleware enabled
2025-03-06T12:02:32.223+0700	DEBUG	pgstorage/pgstorage.go:35	Connecting to database: postgres://metrics:password@localhost:5432/metrics?sslmode=disable

2025/03/06 12:02:32 INFO Запуск миграций... path=migrations/server
2025/03/06 12:02:32 INFO Нет новых миграций для применения.
2025-03-06T12:02:32.257+0700	INFO	app/app.go:34	starting server	{"config": {"Addr":"localhost:8080","StoreInterval":300,"FileStoragePath":"/tmp/metrics-db.json","Restore":true,"Database":{"DSN":"postgres://metrics:password@localhost:5432/metrics?sslmode=disable","MigrationsPath":"migrations/server"},"PrivateKey":"private_key_example","EnablePprof":false,"PrivateRSAKey":null}}
2025-03-06T12:02:38.262+0700	DEBUG	update/json_update.go:81	request body	{"body": "{\"id\":\"TestGauge\",\"type\":\"gauge\",\"value\":123.45}"}
2025-03-06T12:02:38.262+0700	DEBUG	update/json_update.go:43	parsed metric	{"metric": {"id":"TestGauge","type":"gauge","value":123.45}}
2025-03-06T12:02:38.298+0700	INFO	update/json_update.go:64	metric Metric{Name: TestGauge, Type: gauge, Value: 123.450000} updated, result: Metric{Name: TestGauge, Type: gauge, Value: 123.450000}
2025-03-06T12:02:38.305+0700	INFO	logger/logger.go:40	request completed	{"method": "POST", "path": "/update", "remote_addr": "127.0.0.1:54850", "user_agent": "Go-http-client/1.1", "request_id": "ubuntu/XdOlu9hr1i-000001", "headers": {"Accept-Encoding":["gzip"],"Content-Length":["48"],"User-Agent":["Go-http-client/1.1"]}, "request_body": "{\"id\":\"TestGauge\",\"type\":\"gauge\",\"value\":123.45}", "status": 200, "response_bytes": 163, "response_headers": {"Content-Encoding":["gzip"],"Content-Type":["application/json"],"Hashsha256":["4ca68847e54ba8c547be73cbbcfa5cbca2a4e61a638267b5b55ddea9b40ac653"],"Vary":["Accept-Encoding"]}, "response_body": "{\"status\":\"OK\",\"message\":\"metric Metric{Name: TestGauge, Type: gauge, Value: 123.450000} updated, result: Metric{Name: TestGauge, Type: gauge, Value: 123.450000}\"}", "duration": "43.02534ms"}
2025-03-06T12:02:38.312+0700	DEBUG	update/json_update.go:81	request body	{"body": "{\"id\":\"TestGauge\",\"type\":\"gauge\",\"value\":123.45}"}
2025-03-06T12:02:38.313+0700	DEBUG	update/json_update.go:43	parsed metric	{"metric": {"id":"TestGauge","type":"gauge","value":123.45}}
2025-03-06T12:02:38.329+0700	INFO	update/json_update.go:64	metric Metric{Name: TestGauge, Type: gauge, Value: 123.450000} updated, result: Metric{Name: TestGauge, Type: gauge, Value: 123.450000}
2025-03-06T12:02:38.331+0700	INFO	logger/logger.go:40	request completed	{"method": "POST", "path": "/update", "remote_addr": "127.0.0.1:54854", "user_agent": "Go-http-client/1.1", "request_id": "ubuntu/XdOlu9hr1i-000002", "headers": {"Accept-Encoding":["gzip"],"Content-Length":["48"],"User-Agent":["Go-http-client/1.1"]}, "request_body": "{\"id\":\"TestGauge\",\"type\":\"gauge\",\"value\":123.45}", "status": 200, "response_bytes": 163, "response_headers": {"Content-Encoding":["gzip"],"Content-Type":["application/json"],"Hashsha256":["4ca68847e54ba8c547be73cbbcfa5cbca2a4e61a638267b5b55ddea9b40ac653"],"Vary":["Accept-Encoding"]}, "response_body": "{\"status\":\"OK\",\"message\":\"metric Metric{Name: TestGauge, Type: gauge, Value: 123.450000} updated, result: Metric{Name: TestGauge, Type: gauge, Value: 123.450000}\"}", "duration": "19.040726ms"}
2025-03-06T12:02:38.438+0700	INFO	logger/logger.go:40	request completed	{"method": "POST", "path": "/value", "remote_addr": "127.0.0.1:54866", "user_agent": "Go-http-client/1.1", "request_id": "ubuntu/XdOlu9hr1i-000003", "headers": {"Accept-Encoding":["gzip"],"Content-Length":["33"],"User-Agent":["Go-http-client/1.1"]}, "request_body": "{\"id\":\"TestGauge\",\"type\":\"gauge\"}", "status": 200, "response_bytes": 48, "response_headers": {"Content-Encoding":["gzip"],"Content-Type":["application/json"],"Hashsha256":["96d52c185d37514e694874bb5e60f10ce0b5d9cda7a8f5bce1f969cf5288af39"],"Vary":["Accept-Encoding"]}, "response_body": "{\"id\":\"TestGauge\",\"type\":\"gauge\",\"value\":123.45}", "duration": "1.35369ms"}
2025-03-06T12:02:38.440+0700	DEBUG	updates/json_updates.go:79	validateRequest => sign.VerifyHMACSHA256	{"hash_from_request": "", "calc_hash": "", "headers": {"Accept-Encoding":["gzip"],"Content-Length":["101"],"User-Agent":["Go-http-client/1.1"]}, "body": "[{\"id\":\"TestGauge1\",\"type\":\"gauge\",\"value\":123.45},{\"id\":\"TestCounter1\",\"type\":\"counter\",\"delta\":42}]"}
2025-03-06T12:02:38.448+0700	INFO	updates/json_updates.go:57	Metrics updated successfully
2025-03-06T12:02:38.449+0700	INFO	logger/logger.go:40	request completed	{"method": "POST", "path": "/updates/", "remote_addr": "127.0.0.1:54866", "user_agent": "Go-http-client/1.1", "request_id": "ubuntu/XdOlu9hr1i-000004", "headers": {"Accept-Encoding":["gzip"],"Content-Length":["101"],"User-Agent":["Go-http-client/1.1"]}, "request_body": "[{\"id\":\"TestGauge1\",\"type\":\"gauge\",\"value\":123.45},{\"id\":\"TestCounter1\",\"type\":\"counter\",\"delta\":42}]", "status": 200, "response_bytes": 56, "response_headers": {"Content-Encoding":["gzip"],"Content-Type":["application/json"],"Hashsha256":["20d913019bca8c31c1566976b46c8aaa3f1b57627b61ae9b57868fc047b48c67"],"Vary":["Accept-Encoding"]}, "response_body": "{\"status\":\"OK\",\"message\":\"Metrics updated successfully\"}", "duration": "8.389875ms"}
2025-03-06T12:02:38.477+0700	INFO	logger/logger.go:40	request completed	{"method": "GET", "path": "/ping", "remote_addr": "127.0.0.1:54874", "user_agent": "Go-http-client/1.1", "request_id": "ubuntu/XdOlu9hr1i-000005", "headers": {"Accept-Encoding":["gzip"],"User-Agent":["Go-http-client/1.1"]}, "request_body": "", "status": 200, "response_bytes": 32, "response_headers": {"Content-Encoding":["gzip"],"Content-Type":["application/json"],"Hashsha256":["73cba2d0e5c3eb152b24388f61573ff57fc51c364394dc282649f988f4b260b2"],"Vary":["Accept-Encoding"]}, "response_body": "{\"status\":\"OK\",\"message\":\"pong\"}", "duration": "23.794485ms"}
