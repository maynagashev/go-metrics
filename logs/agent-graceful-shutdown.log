Build version: N/A
Build date: N/A
Build commit: N/A
time=2025-03-20T15:12:05.622+07:00 level=DEBUG msg="parsed flags and env variables" flags="{Server:{Addr:localhost:8080 ReportInterval:10 PollInterval:2} PrivateKey:private_key_example CryptoKey: RateLimit:3 EnablePprof:false PprofPort:6060 ConfigFile: RealIP: GRPCAddress:localhost:9090 GRPCEnabled:false GRPCTimeout:5 GRPCRetry:3}"
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="using HTTP client" address=http://localhost:8080
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Starting agent" server_url=http://localhost:8080 poll_interval=2s report_interval=10s private_key=pr***************le rate_limit=3 grpc_enabled=false grpc_address=localhost:9090
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Collector started"
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Starting sender worker" workerID=0
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Starting sender worker" workerID=2
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Poll routine started" poll_interval=2s metrics_storage_size=0
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Report routine started" report_interval=10s server_url=http://localhost:8080 grpc_enabled=false grpc_address=localhost:9090
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Client initialized" client_type=*http.Client
time=2025-03-20T15:12:05.623+07:00 level=INFO msg="Starting sender worker" workerID=1
time=2025-03-20T15:12:06.806+07:00 level=INFO msg="received signal" signal=interrupt
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="======= GRACEFUL SHUTDOWN STARTED ======="
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Tickers stopped"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Stop channel closed"
time=2025-03-20T15:12:06.807+07:00 level=DEBUG msg="Starting metrics preparation for sending"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Shutdown signal received while preparing metrics - ensuring final metrics are sent" gauges_count=0 counters_count=0 poll_count=0
time=2025-03-20T15:12:06.807+07:00 level=DEBUG msg="Reset poll count to zero"
time=2025-03-20T15:12:06.807+07:00 level=DEBUG msg="Metrics preparation completed" metrics_count=0 duration_ms=0
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Sender worker shutting down" workerID=1
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Sender worker shutting down" workerID=0
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="No metrics to send before shutdown"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Stopping polls due to context cancellation"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Closing send queue"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Waiting for all goroutines to finish"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Stop signal received, collector exiting"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Sender worker shutting down" workerID=2
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="Stopping reports due to context cancellation"
time=2025-03-20T15:12:06.807+07:00 level=INFO msg="======= GRACEFUL SHUTDOWN COMPLETED ======="
